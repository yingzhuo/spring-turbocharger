plugins {
	id 'groovy-gradle-plugin'
}

try (var inputStream = file("${rootDir}/../gradle.properties").newInputStream()) {
	var properties = new Properties()
	properties.load(inputStream)
	properties.forEach(ext::set)
}

try (var inputStream = file('gradle.properties').newInputStream()) {
	var properties = new Properties()
	properties.load(inputStream)
	properties.forEach(ext::set)
}

dependencies {
	implementation "io.spring.dependency-management:io.spring.dependency-management.gradle.plugin:$dependencyManagementPluginVersion"
	implementation "io.gitee.pkmer.pkmerboot-central-publisher:io.gitee.pkmer.pkmerboot-central-publisher.gradle.plugin:$mavenCentralPublisherPluginVersion"
}

gradlePlugin {
	plugins {
		create('LicenseAddingPlugin') {
			id = 'buildlogic.binary-plugin.license'
			implementationClass = 'buildlogic.gradle.plugin.LicensePlugin'
		}
	}
}
