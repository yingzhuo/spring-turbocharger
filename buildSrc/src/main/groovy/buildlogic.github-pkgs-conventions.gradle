plugins {
	id 'maven-publish'
}

publishing {
	repositories {
		maven {
			name = 'GitHubPackages'
			url = 'https://maven.pkg.github.com/yingzhuo/spring-turbocharger'
			credentials {
				username = 'yingzhuo'
				password = getProperty('github.access.token')
			}
		}
	}

	publications {
		gpr(MavenPublication) {
			from components.java
			groupId = project.group
			artifactId = project.name
			version = project.version

			versionMapping {
				usage('java-api') {
					fromResolutionOf('runtimeClasspath')
				}
				usage('java-runtime') {
					fromResolutionResult()
				}
			}
		}
	}
}
